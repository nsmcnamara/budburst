### Data import, cleaning and transformation for budburst scoring and information from mother trees.
### This script is part of the ACORN budburst analysis project
### Last update:  2023-05-26
### Simone McNamara


#### Setup ####
# libraries
library(tidyverse)


#### Data Import ####
### Importing budburst scoring
budburst <- read.csv("~/budburst/data/processed/20230526_budburst-zurich_corrected.csv", stringsAsFactors=TRUE)

### Importing information from mother trees
mother_info <- read.csv("~/budburst/data/processed/20230526_mother-info_corrected.csv", stringsAsFactors=TRUE)

# Budburst
## Checking out the data
glimpse(budburst)
## Checking NAs
budburst %>%
  summarise(across(everything(), ~ sum(is.na(.))))

# Mother Info
## Checking out the data
glimpse(mother_info)  
## Checking NAs
mother_info %>%
  summarise(across(everything(), ~ sum(is.na(.))))


#### Transforming the data ####
# Budburst
## make new column with date as day of year
budburst <- budburst %>%
  mutate(date = as.Date(date, format = "%d.%m.%y")) %>%
  mutate(day_of_year = lubridate::yday(date))
